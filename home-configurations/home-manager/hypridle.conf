general {
    lock_cmd = pidof $(basename @lock_command@) || @lock_command@          # dbus/sysd lock command (loginctl lock-session)
    # niri doesn't support hyprland-lock-notify-v1
    # Dec 12 09:13:48 framie hypridle[66382]: [WARN] Compositor is missing hyprland-lock-notify-v1!
    # Dec 12 09:13:48 framie hypridle[66382]: general:inhibit_sleep=3, general:on_lock_cmd and general:on_unlock_cmd will not work.
    # on_unlock_cmd = @notify_send@ "Open sesame!"      # same as above, but unlock
    before_sleep_cmd = @loginctl@ lock-session
    inhibit_sleep = 0
}

listener {
    timeout = 60                            # in seconds
    on-timeout = @notify_send@ -u normal 'Idle... locking' && @loginctl@ lock-session # command to run when timeout has passed
    on-resume = @notify_send@ "Welcome back!"  # command to run when activity is detected after timeout has fired.
}

listener {
    timeout = 90
    on-timeout = @monitor_off@
}

listener {
    timeout = 120
    on-timeout = @systemctl@ suspend-then-hibernate
}
